<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" 
		xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">
	<h:head> 
		<title>Stock Exchange Online</title> 
	</h:head>
	<h:body>
		<p:panel header="Graphics' Data">
			<h:form id="graphicsData">
				<p:growl/>
				<h:panelGrid columns="2">
					<p:outputLabel for="tittle" value="Tittle:"/>
					<p:inputText id="tittle" value="#{stockExchangeBean.tittle}" required="true">
						<f:validateLength minimum="3" />
					</p:inputText>
					<p:outputLabel value="Indicador:" for="indicador" />
						<p:selectOneMenu id="indicator" value="#{stockExchangeBean.indicator}">
						<f:selectItem itemValue="OpeningIndicator" itemLabel="Opening" />
						<f:selectItem itemValue="ShutdownIndicator" itemLabel="Shutdown" />
					</p:selectOneMenu>
					<p:outputLabel value="Media:" for="media" />
						<p:selectOneMenu id="media" value="#{stockExchangeBean.media}">
							<f:selectItem itemValue="" itemLabel="Choose" />
							<f:selectItem itemValue="SimpleMoving" itemLabel="Simple Moving" />
							<f:selectItem itemValue="WeightedMoving" itemLabel="Weighted Moving" />
						</p:selectOneMenu>
					<h:commandLink action="#{stockExchangeBean.prepareData}" value="Generate graphic" />
				</h:panelGrid>
			</h:form>
		</p:panel>
		<p:panel header="Buniness" footer="Stock-Exchange" rendered="#{argentumBean.modeloGrafico != null}">
			<p:lineChart value="#{stockExchangeBean.graphicModel}" legendPosition="e" title="#{argentumBean.titulo}"/> 
			<h:form id="listBusiness">
				<p:dataTable var="buniness" value="#{stockExchangeBean.business}" paginator="true" rows="15">
					<p:column headerText="Price" > 
						<h:outputText value="#{buniness.price}" /> 
					</p:column>
					<p:column headerText="Quantity">
						<h:outputText value="#{buniness.quantity}" /> 
					</p:column>
					<p:column headerText="Volume"> 
						<h:outputText value="#{buniness.volume}">
					        <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#00"/>
					    </h:outputText>
					</p:column>
					<p:column headerText="Data"> 
						<h:outputText value="#{buniness.date.time}" > 
							<f:convertDateTime pattern="dd/MM/yyyy" /> 
						</h:outputText>
					</p:column>
				</p:dataTable> 
			</h:form>
		</p:panel>
	</h:body> 
</html>